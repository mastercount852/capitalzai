<section class="contact-hero">
    <div class="container hero__content">
        <div class="hero__left">
            <h1 class="hero__title">{{ "contact-01" | translate }}</h1>
            <p class="hero__subtitle">{{ "contact-02" | translate }}</p>
        </div>
    </div>
</section>

<section class="support-intro">
    <div class="container">
        <h2 class="support__title">{{ "contact-03" | translate }}</h2>
        <p class="support__sub">{{ "contact-04" | translate }}</p>
        <p class="support__text">{{ "contact-05" | translate }}</p>
    </div>
</section>

<section class="contact-form">
    <div class="container">
        <div class="form-card">
            <div class="form-card__head">
                <h3>{{ "contact-06" | translate }}</h3>
                <p>{{ "contact-07" | translate }}</p>
            </div>

            <form class="form" (submit)="onSubmit($event)" novalidate>
                <div class="fields">
                    <!-- Nome -->
                    <label class="field">
                        <span class="label">{{ "contact-08" | translate }}</span>
                        <input type="text" name="firstName" placeholder="Ex.: John" required>
                    </label>

                    <!-- Sobrenome -->
                    <label class="field">
                        <span class="label">{{ "contact-09" | translate }}</span>
                        <input type="text" name="lastName" placeholder="Ex.: Doe" required>
                    </label>

                    <!-- Email -->
                    <label class="field">
                        <span class="label">{{ "contact-10" | translate }}</span>
                        <input type="email" name="email" placeholder="Ex.: joao@example.com" required>
                    </label>

                    <!-- País -->
                    <label class="field">
                        <span class="label">{{ "contact-11" | translate }}</span>
                        <select name="country" required>
                            <option value="" selected disabled>{{ "contact-12" | translate }}</option>
                            <option *ngFor="let c of countries" [value]="c.code">{{ c.flag }} {{ c.name }}</option>
                        </select>
                    </label>

                    <!-- DDI + Telefone -->
                    <label class="field field--compact">
                        <span class="label">{{ "contact-13" | translate }}</span>
                        <div class="phone">
                            <select name="ddi" class="ddi" aria-label="DDI" required>
                                <option value="+55">+55</option>
                                <option value="+351">+351</option>
                                <option value="+1">+1</option>
                                <option value="+34">+34</option>
                                <option value="+44">+44</option>
                            </select>
                            <input class="phone__input" type="tel" name="phone" placeholder="Ex.: (11) 96213-4567"
                                required>
                        </div>
                    </label>

                    <!-- Assunto -->
                    <label class="field">
                        <span class="label">{{ "contact-14" | translate }}</span>
                        <select name="subject" required>
                            <option value="" selected disabled>{{ "contact-15" | translate }}</option>
                            <option *ngFor="let s of subjects" [value]="s">{{ s }}</option>
                        </select>
                    </label>

                    <!-- Mensagem -->
                    <label class="field field--full">
                        <span class="label">{{ "contact-16" | translate }}</span>
                        <textarea name="message" rows="3"
                            placeholder="Por favor, informe sobre sua consulta"></textarea>
                    </label>
                </div>

                <!-- Captcha + botão -->
                <div class="form__foot">
                    <label class="captcha">
                        <input type="checkbox" name="notRobot" required>
                        <span>{{ "contact-17" | translate }}</span>
                    </label>

                    <button type="submit" class="btn-button-theme submit-btn">{{ "contact-18" | translate }}</button>
                </div>
            </form>
        </div>
    </div>
</section>

<!-- ========== MODAL: Enviando → Sucesso ========== -->
<div class="modal-overlay" [class.is-open]="showModal" (click)="overlayClick($event)">
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="sendTitle"
        (click)="$event.stopPropagation()">
        <!-- Estado: carregando -->
        <div *ngIf="isLoading" class="modal-body">
            <div class="spinner" aria-hidden="true"></div>
            <h3 id="sendTitle">{{ "contact-19" | translate }}</h3>
            <p>{{ "contact-20" | translate }}</p>
        </div>

        <!-- Estado: sucesso -->
        <div *ngIf="!isLoading && sent" class="modal-body success">
            <div class="success-mark" aria-hidden="true">
                <svg viewBox="0 0 52 52">
                    <circle cx="26" cy="26" r="25" fill="none"></circle>
                    <path d="M14 27.5l7.5 7.5L38 18" fill="none"></path>
                </svg>
            </div>
            <h3 id="sendTitle">{{ "contact-21" | translate }}</h3>
            <p>{{ "contact-22" | translate }}</p>

            <div class="modal-actions">
                <button type="button" class="btn-button-theme" (click)="closeModal()">{{ "contact-23" | translate }}</button>
            </div>
        </div>
    </div>
</div>